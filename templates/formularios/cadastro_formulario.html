<div class="container-fluid px-5">
  <div class="row justify-content-center">
    <div class="col-md-10 mt-4">
      <h3 class="mb-3">{{ 'Editar' if formulario else 'Novo' }} Formulário</h3>
      <form method="POST" id="formBuilderForm" action="{{ action_url }}">
        <ul class="nav nav-tabs" id="formTabs" role="tablist">
          <li class="nav-item">
            <button class="nav-link active" id="info-tab" data-bs-toggle="tab" data-bs-target="#info" type="button" role="tab">
              Informações
            </button>
          </li>
          <li class="nav-item">
            <button class="nav-link" id="fields-tab" data-bs-toggle="tab" data-bs-target="#fields" type="button" role="tab">
              Perguntas
            </button>
          </li>
        </ul>

        <div class="card shadow-sm">
          <div class="card-body p-0">
            <div class="tab-content" id="formTabsContent">
              <div class="tab-pane fade show active p-3" id="info" role="tabpanel" aria-labelledby="info-tab">
                <div class="mb-3">
                  <label for="nome" class="form-label">Nome</label>
                  <input type="text" class="form-control" id="nome" name="nome" value="{{ formulario.nome if formulario else '' }}" required>
                </div>
              </div>

              <div class="tab-pane fade p-3" id="fields" role="tabpanel" aria-labelledby="fields-tab">
                <div id="fieldsContainer"></div>
                <button type="button" class="btn btn-outline-primary mb-3" id="addField">Adicionar Pergunta</button>
                <input type="hidden" id="estrutura" name="estrutura" value="{{ formulario.estrutura|e if formulario else '' }}">
              </div>
            </div>
          </div>
        </div>

        <div class="mt-3">
          <button type="submit" class="btn btn-primary">Salvar</button>
          <a href="{{ url_for('formularios_bp.formularios') }}" class="btn btn-secondary">Cancelar</a>
        </div>
      </form>
    </div>
  </div>
</div>
